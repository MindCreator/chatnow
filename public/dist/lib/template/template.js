!function(e){var t=function(e,n){return t["string"==typeof n?"compile":"render"].apply(t,arguments)};t.version="2.0.4",t.openTag="<%",t.closeTag="%>",t.isEscape=!0,t.isCompress=!1,t.parser=null,t.render=function(e,n){var r=t.get(e)||i({id:e,name:"Render Error",message:"No Template"});return r(n)},t.compile=function(e,r){function u(n){try{return new c(n,e)+""}catch(s){return f?i(s)():t.compile(e,r,!0)(n)}}var a=arguments,f=a[2],l="anonymous";"string"!=typeof r&&(f=a[1],r=a[0],e=l);try{var c=s(e,r,f)}catch(h){return h.id=e||r,h.name="Syntax Error",i(h)}return u.prototype=c.prototype,u.toString=function(){return c.toString()},e!==l&&(n[e]=u),u};var n=t.cache={},r=t.helpers=function(){var e=function(t,n){return"string"!=typeof t&&(n=typeof t,"number"===n?t+="":t="function"===n?e(t.call(t)):""),t},n={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},r=function(t){return e(t).replace(/&(?![\w#]+;)|[<>"']/g,function(e){return n[e]})},i=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},s=function(e,t){if(i(e))for(var n=0,r=e.length;r>n;n++)t.call(e,e[n],n,e);else for(n in e)t.call(e,e[n],n)};return{$include:t.render,$string:e,$escape:r,$each:s}}();t.helper=function(e,t){r[e]=t},t.onerror=function(t){var n="Template Error\n\n";for(var r in t)n+="<"+r+">\n"+t[r]+"\n\n";e.console&&console.error(n)},t.get=function(r){var i;if(n.hasOwnProperty(r))i=n[r];else if("document"in e){var s=document.getElementById(r);if(s){var o=s.value||s.innerHTML;i=t.compile(r,o.replace(/^\s*|\s*$/g,""))}}return i};var i=function(e){return t.onerror(e),function(){return"{Template Error}"}},s=function(){var e=r.$each,n="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",i=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|[\s\t\n]*\.[\s\t\n]*[$\w\.]+/g,s=/[^\w$]+/g,o=new RegExp(["\\b"+n.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),u=/^\d[^,]*|,\d[^,]*/g,a=/^,+|,+$/g,f=function(e){return e.replace(i,"").replace(s,",").replace(o,"").replace(u,"").replace(a,"").split(/^$|,+/)};return function(n,i,s){function o(e){return y+=e.split(/\n/).length-1,t.isCompress&&(e=e.replace(/[\n\r\t\s]+/g," ").replace(/<!--.*?-->/g,"")),e&&(e=x[1]+h(e)+x[2]+"\n"),e}function u(e){var n=y;if(v?e=v(e):s&&(e=e.replace(/\n/g,function(){return y++,"$line="+y+";"})),0===e.indexOf("=")){var i=!/^=[=#]/.test(e);if(e=e.replace(/^=[=#]?|[\s;]*$/g,""),i&&t.isEscape){var o=e.replace(/\s*\([^\)]+\)/,"");r.hasOwnProperty(o)||/^(include|print)$/.test(o)||(e="$escape("+e+")")}else e="$string("+e+")";e=x[1]+e+x[2]}return s&&(e="$line="+n+";"+e),a(e),e+"\n"}function a(t){t=f(t),e(t,function(e){e&&!b.hasOwnProperty(e)&&(c(e),b[e]=!0)})}function c(e){var t;"print"===e?t=N:"include"===e?(w.$include=r.$include,t=C):(t="$data."+e,r.hasOwnProperty(e)&&(w[e]=r[e],t=0===e.indexOf("$")?"$helpers."+e:t+"===undefined?$helpers."+e+":"+t)),E+=e+"="+t+","}function h(e){return"'"+e.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}var p=t.openTag,d=t.closeTag,v=t.parser,m=i,g="",y=1,b={$data:1,$id:1,$helpers:1,$out:1,$line:1},w={},E="var $helpers=this,"+(s?"$line=0,":""),S="".trim,x=S?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],T=S?"$out+=$text;return $text;":"$out.push($text);",N="function($text){"+T+"}",C="function(id,data){data=data||$data;var $text=$helpers.$include(id,data,$id);"+T+"}";e(m.split(p),function(e){e=e.split(d);var t=e[0],n=e[1];1===e.length?g+=o(t):(g+=u(t),n&&(g+=o(n)))}),m=g,s&&(m="try{"+m+"}catch(e){"+"throw {"+"id:$id,"+"name:'Render Error',"+"message:e.message,"+"line:$line,"+"source:"+h(i)+".split(/\\n/)[$line-1].replace(/^[\\s\\t]+/,'')"+"};"+"}"),m=E+x[0]+m+"return new String("+x[3]+");";try{var k=new Function("$data","$id",m);return k.prototype=w,k}catch(L){throw L.temp="function anonymous($data,$id) {"+m+"}",L}}}();"function"==typeof define?define([],function(){return t}):"undefined"!=typeof exports&&(module.exports=t),e.template=t}(this);